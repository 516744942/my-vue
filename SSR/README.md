## æ¦‚å¿µ
æœåŠ¡ç«¯æ¸²æŸ“ï¼šå°†vueå®ä¾‹æ¸²æŸ“ä¸ºHTMLå­—ç¬¦ä¸²ç›´æ¥è¿”å›ï¼Œåœ¨å‰ç«¯æ¿€æ´»ä¸ºäº¤äº’ç¨‹åº

## ä¼˜ç‚¹ 
seo
é¦–å±å†…å®¹åˆ°è¾¾æ—¶é—´

## åŸºç¡€çš„http æœåŠ¡

// nodejs  ä»£ç 
const express = require('express');

// è·å–express å®åŠ›
const server = express()

// ç¼–å†™è·¯ç”±å¤„ç†ä¸åŒurlçš„è¯·æ±‚
server.get('/', (req, res) => {
  res.send('<strong> hello world</strong>')
})

//  ç›‘å¬ä¸€ä¸ªç«¯å£ åœ¨80 ç«¯å£è¿è¡Œäº†ä¸€ä¸ªæœåŠ¡å™¨
server.listen(80, () => {
  console.log('server running');
})

## åŸºç¡€å®ç°
ä½¿ç”¨æ¸²æŸ“å™¨ å°†vueå®åˆ—æˆHTMLå­—ç¬¦ä¸²å¹¶è¿”å›

##å®‰è£… vue-server-renderer
```
npm i  vue-server-renderer -s
```
1.  åˆ›å»ºvueå®åˆ—
2.  è·å–æ¸²æŸ“å™¨å®ä¾‹
3.  ç”¨æ¸²æŸ“å™¨æ¸²æŸ“vueå®ä¾‹

<!-- ç¡®ä¿ç‰ˆæœ¬ç›¸åŒä¸”åŒ¹é… -->

## æ¿€æ´» 
ç°åœ¨åªæœ‰æ­»çš„å†…å®¹ï¼Œå¦‚æœè¦ä½¿ç¨‹åºå¯ä»¥äº¤äº’è¿˜éœ€è¦æ¿€æ´»

## vue ssr
ä¼ ç»Ÿwebå¼€å‘ï¼Œç½‘é¡µå†…å®¹åœ¨æœåŠ¡ç«¯æ¸²æŸ“å®Œæˆï¼Œä¸€æ¬¡æ€§ä¼ è¾“åˆ°æµè§ˆå™¨ã€‚

å®¢æˆ·ç«¯ -> è®¿é—®url(è¯·æ±‚) -> æœåŠ¡å™¨ -> æŸ¥è¯¢æ•°æ®åº“ï¼Œæ‹¼æ¥htmlå­—ç¬¦ä¸²(æ¨¡æ¿) ->ç»™ä½ html(å“åº”)->å®¢æœç«¯

ğŸ vue jså’Œ æ¸²æŸ“template

## æœåŠ¡ç«¯æ¸²æŸ“ Server Side Render
æŠ˜ä¸­æ–¹æ¡ˆ
1. SSRè§£å†³æ–¹æ¡ˆï¼Œåç«¯æ¸²æŸ“å‡ºå®Œæ•´çš„é¦–å±çš„domç»“æ„è¿”å›
2. å‰ç«¯æ‹¿åˆ°çš„å†…å®¹åŒ…æ‹¬é¦–å±åŠå®Œæ•´spaç»“æ„
3. åº”ç”¨æ¿€æ´»åä¾ç„¶æŒ‰ç…§spaæ–¹å¼è¿è¡Œï¼Œè¿™ç§é¡µé¢æ¸²æŸ“æ–¹å¼è¢«ç§°ä¸ºæœåŠ¡ç«¯æ¸²æŸ“
å®¢æˆ·ç«¯ -> è®¿é—®url(è¯·æ±‚) -> æœåŠ¡å™¨ -> æŸ¥è¯¢æ•°æ®åº“ï¼Œæ‹¼æ¥htmlå­—ç¬¦ä¸²(æ¨¡æ¿) ->ç»™ä½ html(å“åº”)->æ˜¾ç¤ºé¦–å±ã€æ¿€æ´»->å®¢æœç«¯
4. å’Œä¼ ç»Ÿä¸ä¸€æ ·çš„æ˜¯éœ€è¦æºå¸¦ä¸€å†™jsä»£ç (æ¿€æ´»),æ–°çš„spa ç¨‹åº

## åŒæ„å¼€å‘SSR åº”ç”¨ 
ä¾ç„¶ä½¿ç”¨webpack æ‰“åŒ…, æˆ‘ä»¬è¦è§£å†³ä¸¤ä¸ªé—®é¢˜
æœåŠ¡ç«¯é¦–å±æ¸²æŸ“

å®¢æˆ·ç«¯æ¿€æ´»

### æ„å»ºæµç¨‹
è¾“å…¥ä¸¤ä¸ªåŒ… server Bundle(è§£å†³æœåŠ¡ç«¯æ¸²æŸ“)
client Bundle(è§£å†³å®¢æˆ·ç«¯æ¿€æ´»)

```
src 
â”œâ”€â”€ router 
â”œâ”€â”€â”€â”€â”€â”€ index.js # è·¯ç”±å£°æ˜ 
â”œâ”€â”€ store 
â”œâ”€â”€â”€â”€â”€â”€ index.js # å…¨å±€çŠ¶æ€ 
â”œâ”€â”€ main.js # ç”¨äºåˆ›å»ºvueå®ä¾‹ 
â”œâ”€â”€ entry-client.js # å®¢æˆ·ç«¯å…¥å£ï¼Œç”¨äºé™æ€å†…å®¹â€œæ¿€æ´»â€ 
â””â”€â”€ entry-server.js # æœåŠ¡ç«¯å…¥å£ï¼Œç”¨äºé¦–å±å†…å®¹æ¸²æŸ“
```

#### vue-ssr-outlet
å®¿ä¸»æ–‡ä»¶ <!--vue-ssr-outlet-->
æœ€åéœ€è¦å®šä¹‰å®¿ä¸»æ–‡ä»¶ï¼Œä¿®æ”¹./public/index.html

### æ•°æ®çš„é¢„å–é—®é¢˜

asyncData({store, route}) {  
  console.log(route)
  return store.dispatch('getCount')
}
åœ¨ entry-server.js ä¸­å»åš